{"ast":null,"code":"var _jsxFileName = \"/Users/autumn/private/partnerCardQuizz/screens/LoginScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Button } from '@ui-kitten/components';\nimport { Formik } from 'formik';\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as Yup from 'yup';\nimport TextField from \"../components/form/TextField\";\nimport { AuthService } from \"../providers/AuthProvider\";\nimport { useModal } from \"../providers/ModalProvider\";\nimport { t } from \"../utils\";\nimport Screen from \"./Screen\";\nvar schema = Yup.object().shape({\n  email: Yup.string().required().email(t('login.emailError')).label(t('login.emailLabel')),\n  password: Yup.string().required().label(t('login.passwordLabel'))\n});\nvar initialValues = {\n  email: '',\n  password: ''\n};\nexport default function LoginScreen() {\n  var _this = this;\n\n  var _useModal = useModal(),\n      showModal = _useModal.showModal;\n\n  var handleFormSubmit = function handleFormSubmit(_ref) {\n    var email, password, message;\n    return _regeneratorRuntime.async(function handleFormSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            email = _ref.email, password = _ref.password;\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AuthService.signInWithEmailAndPassword(email, password));\n\n          case 4:\n            _context.next = 10;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](1);\n            message = _context.t0.message;\n            showModal(message);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 6]], Promise);\n  };\n\n  return React.createElement(Screen, {\n    title: t('login.title'),\n    showBackIcon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, React.createElement(Formik, {\n    validationSchema: schema,\n    initialValues: initialValues,\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, function (_ref3) {\n    var handleSubmit = _ref3.handleSubmit,\n        isSubmitting = _ref3.isSubmitting;\n    return React.createElement(React.Fragment, null, React.createElement(TextField, {\n      testID: \"email-input\",\n      name: \"email\",\n      style: styles.field,\n      label: t('login.emailLabel'),\n      placeholder: t('login.emailHint'),\n      disabled: isSubmitting,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }), React.createElement(TextField, {\n      testID: \"password-input\",\n      name: \"password\",\n      style: styles.field,\n      label: t('login.passwordLabel'),\n      placeholder: t('login.passwordHint'),\n      disabled: isSubmitting,\n      password: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }), React.createElement(Button, {\n      style: styles.button,\n      status: \"primary\",\n      onPress: handleSubmit,\n      disabled: isSubmitting,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, t('login.submit')));\n  }));\n}\nvar styles = StyleSheet.create({\n  field: {\n    marginBottom: 16\n  },\n  button: {\n    marginTop: 24\n  }\n});","map":{"version":3,"names":["Button","Formik","React","Yup","TextField","AuthService","useModal","t","Screen","schema","object","shape","email","string","required","label","password","initialValues","LoginScreen","showModal","handleFormSubmit","signInWithEmailAndPassword","message","handleSubmit","isSubmitting","styles","field","button","StyleSheet","create","marginBottom","marginTop"],"sources":["/Users/autumn/private/partnerCardQuizz/screens/LoginScreen.js"],"sourcesContent":["import { Button } from '@ui-kitten/components';\nimport { Formik } from 'formik';\nimport React from 'react';\nimport { StyleSheet } from 'react-native';\nimport * as Yup from 'yup';\nimport TextField from '../components/form/TextField';\nimport { AuthService } from '../providers/AuthProvider';\nimport { useModal } from '../providers/ModalProvider';\nimport { t } from '../utils';\nimport Screen from './Screen';\n\nconst schema = Yup.object().shape({\n  email: Yup.string()\n    .required()\n    .email(t('login.emailError'))\n    .label(t('login.emailLabel')),\n  password: Yup.string().required().label(t('login.passwordLabel')),\n});\n\nconst initialValues = {\n  email: '',\n  password: '',\n};\n\nexport default function LoginScreen() {\n  const { showModal } = useModal();\n  const handleFormSubmit = async ({ email, password }) => {\n    try {\n      await AuthService.signInWithEmailAndPassword(email, password);\n    } catch ({ message }) {\n      showModal(message);\n    }\n  };\n\n  return (\n    <Screen title={t('login.title')} showBackIcon>\n      <Formik\n        validationSchema={schema}\n        initialValues={initialValues}\n        onSubmit={handleFormSubmit}\n      >\n        {({ handleSubmit, isSubmitting }) => (\n          <>\n            <TextField\n              testID=\"email-input\"\n              name=\"email\"\n              style={styles.field}\n              label={t('login.emailLabel')}\n              placeholder={t('login.emailHint')}\n              disabled={isSubmitting}\n            />\n            <TextField\n              testID=\"password-input\"\n              name=\"password\"\n              style={styles.field}\n              label={t('login.passwordLabel')}\n              placeholder={t('login.passwordHint')}\n              disabled={isSubmitting}\n              password\n            />\n            <Button\n              style={styles.button}\n              status=\"primary\"\n              onPress={handleSubmit}\n              disabled={isSubmitting}\n            >\n              {t('login.submit')}\n            </Button>\n          </>\n        )}\n      </Formik>\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  field: {\n    marginBottom: 16,\n  },\n  button: {\n    marginTop: 24,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}